<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Enhanced CRM with Relationships</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="login-container" id="loginContainer">
      <form id="loginForm" aria-label="Login Form">
        <h2>Login</h2>
        <label for="username">Username:</label>
        <input
          type="text"
          id="username"
          placeholder="Username"
          required
          aria-required="true"
        />
        <label for="password">Password:</label>
        <input
          type="password"
          id="password"
          placeholder="Password"
          required
          aria-required="true"
        />
        <button type="submit" class="btn">Login</button>
        <button type="button" class="btn secondary" id="newUserBtn">
          New User
        </button>
      </form>
    </div>

    <div class="container" id="mainContainer">
      <aside class="sidebar">
        <h2>CRM</h2>
        <button class="btn logout" id="logoutBtn" aria-label="Logout">
          Logout
        </button>
        <nav>
          <ul role="navigation">
            <li
              class="active"
              data-section="customers"
              aria-label="Customers Section"
            >
              Customers
            </li>
            <li data-section="vendors" aria-label="Vendors Section">Vendors</li>
            <li data-section="products" aria-label="Products Section">
              Products
            </li>
            <li data-section="tasks" aria-label="Tasks Section">Tasks</li>
            <li data-section="analytics" aria-label="Analytics Section">
              Analytics
            </li>
          </ul>
        </nav>
        <button class="btn" id="usersBtn" aria-label="Manage Users">
          Users
        </button>
      </aside>

      <main class="main-content">
        <section
          id="customers"
          class="content-section active"
          aria-label="Customers"
        >
          <div class="section-header">
            <h1>Customers</h1>
            <div>
              <input
                type="text"
                id="customerSearch"
                placeholder="Search customers..."
                aria-label="Search Customers"
              />
              <button
                class="btn"
                data-action="add"
                data-type="customer"
                aria-label="Add Customer"
              >
                Add Customer
              </button>
            </div>
          </div>
          <div class="table-container">
            <table aria-label="Customer List">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Phone</th>
                  <th>Status</th>
                  <th>Notes</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="customerTable"></tbody>
            </table>
          </div>
        </section>

        <section id="vendors" class="content-section" aria-label="Vendors">
          <div class="section-header">
            <h1>Vendors</h1>
            <div>
              <input
                type="text"
                id="vendorSearch"
                placeholder="Search vendors..."
                aria-label="Search Vendors"
              />
              <button
                class="btn"
                data-action="add"
                data-type="vendor"
                aria-label="Add Vendor"
              >
                Add Vendor
              </button>
            </div>
          </div>
          <div class="table-container">
            <table aria-label="Vendor List">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Contact</th>
                  <th>Email</th>
                  <th>Status</th>
                  <th>Notes</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="vendorTable"></tbody>
            </table>
          </div>
        </section>

        <section id="products" class="content-section" aria-label="Products">
          <div class="section-header">
            <h1>Products</h1>
            <div>
              <input
                type="text"
                id="productSearch"
                placeholder="Search products..."
                aria-label="Search Products"
              />
              <button
                class="btn"
                data-action="add"
                data-type="product"
                aria-label="Add Product"
              >
                Add Product
              </button>
            </div>
          </div>
          <div class="table-container">
            <table aria-label="Product List">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Vendor Prices</th>
                  <th>Total Stock</th>
                  <th>Notes</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="productTable"></tbody>
            </table>
          </div>
        </section>

        <section id="tasks" class="content-section" aria-label="Tasks">
          <div class="section-header">
            <h1>Tasks</h1>
            <button
              class="btn"
              data-action="add"
              data-type="task"
              aria-label="Add Task"
            >
              Add Task
            </button>
          </div>
          <div class="table-container">
            <table aria-label="Task List">
              <thead>
                <tr>
                  <th>Title</th>
                  <th>Customer</th>
                  <th>Due Date</th>
                  <th>Priority</th>
                  <th>Status</th>
                  <th>Notes</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="taskTable"></tbody>
            </table>
          </div>
        </section>

        <section id="analytics" class="content-section" aria-label="Analytics">
          <div class="section-header">
            <h1>Analytics</h1>
            <div>
              <button
                class="btn"
                id="recallAnalyticsBtn"
                aria-label="Recall Analytics"
              >
                Recall Analytics
              </button>
              <button class="btn" id="exportBtn" aria-label="Export Data">
                Export Data
              </button>
              <input
                type="file"
                id="importFile"
                accept=".json"
                aria-label="Import Data File"
              />
              <button class="btn" id="importBtn" aria-label="Import Data">
                Import Data
              </button>
            </div>
          </div>
          <div class="analytics-grid">
            <div
              class="card"
              data-recall="totalCustomers"
              aria-label="Total Customers"
            >
              <h3>Total Customers</h3>
              <p id="totalCustomers">0</p>
            </div>
            <div
              class="card"
              data-recall="activeCustomers"
              aria-label="Active Customers"
            >
              <h3>Active Customers</h3>
              <p id="activeCustomers">0</p>
            </div>
            <div
              class="card"
              data-recall="inactiveCustomers"
              aria-label="Inactive Customers"
            >
              <h3>Inactive Customers</h3>
              <p id="inactiveCustomers">0</p>
            </div>
            <div
              class="card"
              data-recall="totalVendors"
              aria-label="Total Vendors"
            >
              <h3>Total Vendors</h3>
              <p id="totalVendors">0</p>
            </div>
            <div
              class="card"
              data-recall="totalProducts"
              aria-label="Total Products"
            >
              <h3>Total Products</h3>
              <p id="totalProducts">0</p>
            </div>
            <div
              class="card"
              data-recall="lowStock"
              aria-label="Low Stock Products"
            >
              <h3>Low Stock Products</h3>
              <p id="lowStock">0</p>
            </div>
            <div
              class="card"
              data-recall="highPriorityTasks"
              aria-label="High Priority Tasks"
            >
              <h3>High Priority Tasks</h3>
              <p id="highPriorityTasks">0</p>
            </div>
          </div>
          <div class="notes-section">
            <h3>Analytics Notes</h3>
            <input
              type="date"
              id="notesDateFilter"
              aria-label="Filter Notes by Date"
            />
            <textarea
              id="analyticsNotes"
              rows="6"
              placeholder="Enter notes here..."
              aria-label="Analytics Notes"
            ></textarea>
            <button class="btn" id="saveAnalyticsNote" aria-label="Save Note">
              Save Note
            </button>
            <button
              class="btn secondary"
              id="toggleNotesBtn"
              aria-label="Toggle Notes Visibility"
            >
              Show Notes
            </button>
            <div
              id="notesList"
              class="collapsible collapsed"
              aria-label="Notes List"
            ></div>
          </div>
        </section>
      </main>

      <div class="modal" id="modal" aria-label="CRUD Modal">
        <div class="modal-content">
          <span class="close" id="crudModalClose" aria-label="Close Modal"
            >×</span
          >
          <form id="crudForm" aria-label="CRUD Form">
            <h2 id="modalTitle"></h2>
            <div id="formFields"></div>
            <button type="submit" class="btn" aria-label="Save Item">
              Save
            </button>
          </form>
        </div>
      </div>

      <div class="modal" id="recallModal" aria-label="Recall Modal">
        <div class="modal-content recall-modal">
          <span
            class="close"
            id="recallModalClose"
            aria-label="Close Recall Modal"
            >×</span
          >
          <h2 id="recallTitle"></h2>
          <div id="recallContent"></div>
        </div>
      </div>

      <div class="modal" id="usersModal" aria-label="Users Modal">
        <div class="modal-content users-modal">
          <span
            class="close"
            id="usersModalClose"
            aria-label="Close Users Modal"
            >×</span
          >
          <h2>Registered Users</h2>
          <div id="usersList" aria-label="Users List"></div>
        </div>
      </div>
    </div>
    <script src="script.js"></script>
  </body>
</html>
